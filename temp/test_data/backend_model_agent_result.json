[
    {
        "files": [
            {
                "filename": "task.py",
                "code_content": "from pydantic import BaseModel, Field, ConfigDict\nfrom typing import Optional\n\n\nclass Task(BaseModel):\n    \"\"\"Domain model for Task entity.\n\n    This is a pure data transfer object representing a task's domain data.\n    Per repository guidelines, storage-specific fields (e.g., database ids)\n    are excluded from domain models.\n    \"\"\"\n\n    title: str = Field(\n        ...,\n        description=(\n            \"Task title - required, cannot be empty. Short human-readable title \"\n            \"used to identify the task in lists and UIs.\"\n        ),\n    )\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional detailed description of the task - provide more context or \"\n            \"acceptance criteria. If not provided, defaults to None.\"\n        ),\n    )\n\n\nclass TaskCreate(BaseModel):\n    \"\"\"Input model for creating a new Task.\"\"\"\n\n    model_config = ConfigDict(extra=\"forbid\")\n\n    title: str = Field(\n        ...,\n        description=(\n            \"Task title - required, cannot be empty. Short human-readable title \"\n            \"used to identify the task in lists and UIs.\"\n        ),\n    )\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional detailed description of the task - provide more context or \"\n            \"acceptance criteria. If not provided, defaults to None.\"\n        ),\n    )\n\n\nclass TaskUpdate(BaseModel):\n    \"\"\"Input model for updating an existing Task.\n\n    All fields are optional to allow partial updates. Service layer should\n    handle cases where the payload contains no updatable fields.\n    \"\"\"\n\n    model_config = ConfigDict(extra=\"forbid\")\n\n    title: Optional[str] = Field(\n        None,\n        description=(\n            \"Task title - optional for updates. When provided, replaces the \"\n            \"existing title. If omitted, the title is left unchanged.\"\n        ),\n    )\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional detailed description - when provided, replaces the existing \"\n            \"description. If omitted, the description is left unchanged.\"\n        ),\n    )\n"
            }
        ],
        "warnings": [
            "Spec defined an 'id' field on Task domain model (required, read_only). Per project guidelines, domain models must not include storage fields; 'id' was therefore omitted from the Task domain model. Ensure the persistence layer exposes the id separately.",
            "String fields have no format or length validation (e.g., title and description). Consider adding stricter validation (length constraints or specific types like EmailStr) at the service layer or by extending Pydantic validators.",
            "TaskUpdate allows all fields to be optional; ensure the service layer handles empty update payloads to avoid no-op updates."
        ],
        "metadata": {
            "models_created": 3,
            "entities_covered": [
                "Task"
            ],
            "total_lines": 72,
            "constraints_respected": true,
            "assumptions_made": [
                "Excluded 'id' from Task domain model per guideline that domain models must not include storage fields.",
                "No additional validation (e.g., max length or regex) was added beyond Field descriptions as per constraints."
            ],
            "spec_version": "1.0"
        },
        "test_case_index": 0,
        "entities": {
            "Task": {
                "description": "A task item with a short title and an optional longer description used to track work to be done.",
                "fields": {
                    "title": {
                        "type": "string",
                        "required": true
                    },
                    "description": {
                        "type": "string",
                        "required": false
                    }
                },
                "id_strategy": "auto_increment",
                "natural_key_field": null
            }
        },
        "backend_models_spec": {
            "models": [
                {
                    "name": "Task",
                    "type": "pydantic",
                    "purpose": "domain",
                    "fields": [
                        {
                            "name": "id",
                            "type": "int",
                            "required": true,
                            "read_only": true
                        },
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "TaskCreate",
                    "type": "pydantic",
                    "purpose": "create",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "TaskUpdate",
                    "type": "pydantic",
                    "purpose": "update",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                }
            ]
        }
    },
    {
        "files": [
            {
                "filename": "task.py",
                "code_content": "from pydantic import BaseModel, Field, ConfigDict\nfrom typing import Optional\nfrom datetime import datetime\n\n\nclass Task(BaseModel):\n    \"\"\"Domain model for Task entity.\n\n    Pure data transfer object - contains no lifecycle or storage semantics.\n    Note: The storage identifier (id) is intentionally omitted from this domain model per generator rules.\n    \"\"\"\n\n    title: str = Field(\n        ...,\n        description=(\n            \"Task title - required, cannot be empty. This is the human-readable name of the task \"\n            \"that the user intends to perform each day. Service layer should enforce non-empty values.\"\n        ),\n    )\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional detailed description or notes for the task; if not provided, defaults to None. \"\n            \"Use this to store any free-text details about the task.\"\n        ),\n    )\n    completed_today: Optional[bool] = Field(\n        None,\n        description=(\n            \"Indicates whether the task has been completed today. Optional boolean; if not provided, \"\n            \"the value will be None. Service layer may translate None to False if desired.\"\n        ),\n    )\n    last_completed: Optional[datetime] = Field(\n        None,\n        description=(\n            \"Timestamp when this task was last completed by the user. Optional; if not provided, \"\n            \"defaults to None. Represents a full datetime (date and time) in UTC or the system's chosen timezone.\"\n        ),\n    )\n\n\nclass TaskCreate(BaseModel):\n    \"\"\"Input model for creating a new Task.\"\"\"\n    model_config = ConfigDict(extra=\"forbid\")\n\n    title: str = Field(\n        ...,\n        description=(\n            \"Task title - required, cannot be empty. Provide the human-readable name of the task to create.\"\n        ),\n    )\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional detailed description or notes for the task; if not provided, defaults to None.\"\n        ),\n    )\n    completed_today: Optional[bool] = Field(\n        None,\n        description=(\n            \"Optional boolean indicating whether the task should be marked as completed for today at creation time. \"\n            \"If not provided, defaults to None.\"\n        ),\n    )\n    last_completed: Optional[datetime] = Field(\n        None,\n        description=(\n            \"Optional timestamp when the task was last completed. If provided, must be a datetime; \"\n            \"otherwise defaults to None.\"\n        ),\n    )\n\n\nclass TaskUpdate(BaseModel):\n    \"\"\"Input model for updating an existing Task.\n\n    All fields are optional to allow partial updates.\n    \"\"\"\n    model_config = ConfigDict(extra=\"forbid\")\n\n    title: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional new title for the task. If provided, cannot be empty. Service layer should enforce non-empty updates.\"\n        ),\n    )\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional updated description or notes for the task; if not provided, leaves existing value unchanged.\"\n        ),\n    )\n    completed_today: Optional[bool] = Field(\n        None,\n        description=(\n            \"Optional boolean to set or clear today's completion flag. If not provided, leaves existing value unchanged.\"\n        ),\n    )\n    last_completed: Optional[datetime] = Field(\n        None,\n        description=(\n            \"Optional timestamp to update when the task was last completed. If not provided, leaves existing value unchanged.\"\n        ),\n    )\n"
            }
        ],
        "warnings": [
            "Spec includes an 'id' field for the Task domain model; per generator rules the domain model omits storage identifiers. Ensure the persistence/service layer returns and manages the id separately.",
            "Entity information lists 'last_completed' as a date, while the model spec uses datetime. The generated models use datetime. If only a date (no time) is desired, adjust the type accordingly.",
            "Title fields accept any non-empty string but have no length or format validation; consider adding service-layer or schema-level validation for minimum/maximum length or non-whitespace constraints.",
            "TaskUpdate allows all fields to be None (empty update payloads); ensure the service layer handles empty updates and does not apply unintended nullifications."
        ],
        "metadata": {
            "models_created": 3,
            "entities_covered": [
                "Task"
            ],
            "total_lines": 120,
            "constraints_respected": true,
            "assumptions_made": [
                "Excluded 'id' from the Task domain model per generator rule to omit storage identifiers from domain DTOs.",
                "Mapped 'last_completed' to datetime following field type in model spec despite Entity Information specifying 'date'.",
                "Left completed_today as Optional[bool] with no default to match the spec's required=false."
            ],
            "spec_version": "1.0"
        },
        "test_case_index": 1,
        "entities": {
            "Task": {
                "description": "A daily task or item the user intends to perform each day, with optional notes and simple completion tracking.",
                "fields": {
                    "title": {
                        "type": "string",
                        "required": true
                    },
                    "description": {
                        "type": "string",
                        "required": false
                    },
                    "completed_today": {
                        "type": "boolean",
                        "required": false
                    },
                    "last_completed": {
                        "type": "date",
                        "required": false
                    }
                },
                "id_strategy": "auto_increment",
                "natural_key_field": null
            }
        },
        "backend_models_spec": {
            "models": [
                {
                    "name": "Task",
                    "type": "pydantic",
                    "purpose": "domain",
                    "fields": [
                        {
                            "name": "id",
                            "type": "int",
                            "required": true,
                            "read_only": true
                        },
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "completed_today",
                            "type": "bool",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "last_completed",
                            "type": "datetime",
                            "required": false,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "TaskCreate",
                    "type": "pydantic",
                    "purpose": "create",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "completed_today",
                            "type": "bool",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "last_completed",
                            "type": "datetime",
                            "required": false,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "TaskUpdate",
                    "type": "pydantic",
                    "purpose": "update",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "completed_today",
                            "type": "bool",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "last_completed",
                            "type": "datetime",
                            "required": false,
                            "read_only": false
                        }
                    ]
                }
            ]
        }
    },
    {
        "files": [
            {
                "filename": "expense.py",
                "code_content": "from pydantic import BaseModel, Field, ConfigDict\nfrom typing import Optional\nfrom datetime import datetime\n\n\nclass Expense(BaseModel):\n    \"\"\"Domain model for Expense entity.\n\n    A single expense record capturing the monetary amount, its category, the date it occurred, and optional notes for additional context.\n\n    Pure data transfer object - contains no lifecycle or storage semantics. The storage-level `id` field (read-only) has been intentionally omitted from this domain model.\n    \"\"\"\n    amount: int = Field(..., description=\"Monetary amount of the expense in the smallest currency unit (e.g., cents) - required, must be an integer and cannot be empty\")\n    category: str = Field(..., description=\"Category of the expense (e.g., 'travel', 'meals') - required, must be a non-empty string\")\n    date: datetime = Field(..., description=\"Timestamp when the expense occurred as recorded by the system - required\")\n    notes: Optional[str] = Field(None, description=\"Optional notes providing additional context about the expense - if not provided, defaults to None\")\n\n\nclass ExpenseCreate(BaseModel):\n    \"\"\"Input model for creating a new Expense.\"\"\"\n    model_config = ConfigDict(extra=\"forbid\")\n\n    amount: int = Field(..., description=\"Monetary amount of the expense in the smallest currency unit (e.g., cents) - required, must be an integer and cannot be empty\")\n    category: str = Field(..., description=\"Category of the expense (e.g., 'travel', 'meals') - required, must be a non-empty string\")\n    date: datetime = Field(..., description=\"Timestamp when the expense occurred - required\")\n    notes: Optional[str] = Field(None, description=\"Optional notes providing additional context about the expense - if not provided, defaults to None\")\n\n\nclass ExpenseUpdate(BaseModel):\n    \"\"\"Input model for updating an existing Expense.\"\"\"\n    model_config = ConfigDict(extra=\"forbid\")\n\n    amount: Optional[int] = Field(None, description=\"Monetary amount of the expense - provide to update; if omitted, amount remains unchanged\")\n    category: Optional[str] = Field(None, description=\"Category of the expense - provide to update; if omitted, category remains unchanged\")\n    date: Optional[datetime] = Field(None, description=\"Timestamp when the expense occurred - provide to update; if omitted, date remains unchanged\")\n    notes: Optional[str] = Field(None, description=\"Optional notes - provide to update or set to None to clear; if omitted, notes remains unchanged\")\n"
            }
        ],
        "warnings": [
            "The domain model excludes the 'id' field (read-only storage identifier). This is intentional per generator rules; ensure services handle the storage id separately.",
            "Field 'category' accepts any string value; recommend adding enum or regex validation at the service layer if categories should be constrained.",
            "Field 'amount' has no bounds defined (negative values allowed by the type). Consider validating non-negative amounts in the service layer.",
            "Spec listed the field 'date' as 'date' in entity info but 'datetime' in the models section; this implementation uses datetime.datetime. If only a date (no time) was intended, consider using datetime.date or clarifying the spec.",
            "Notes field is unconstrained free text; consider sanitization and length limits in the service layer to avoid issues with very large or malicious input."
        ],
        "metadata": {
            "models_created": 3,
            "entities_covered": [
                "Expense"
            ],
            "total_lines": 65,
            "constraints_respected": true,
            "assumptions_made": [
                "Excluded 'id' from the domain model as required by generator rules.",
                "Mapped the 'date' field to datetime.datetime because the top-level spec used 'datetime' while entity info said 'date'.",
                "No additional validation was added beyond Field descriptions; assume service layer will enforce domain-specific rules (e.g., non-negative amounts, category enums)."
            ],
            "spec_version": "1.0"
        },
        "test_case_index": 2,
        "entities": {
            "Expense": {
                "description": "A single expense record capturing the monetary amount, its category, the date it occurred, and optional notes for additional context.",
                "fields": {
                    "amount": {
                        "type": "integer",
                        "required": true
                    },
                    "category": {
                        "type": "string",
                        "required": true
                    },
                    "date": {
                        "type": "date",
                        "required": true
                    },
                    "notes": {
                        "type": "string",
                        "required": false
                    }
                },
                "id_strategy": "auto_increment",
                "natural_key_field": null
            }
        },
        "backend_models_spec": {
            "models": [
                {
                    "name": "Expense",
                    "type": "pydantic",
                    "purpose": "domain",
                    "fields": [
                        {
                            "name": "id",
                            "type": "int",
                            "required": true,
                            "read_only": true
                        },
                        {
                            "name": "amount",
                            "type": "int",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "category",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "date",
                            "type": "datetime",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "notes",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "ExpenseCreate",
                    "type": "pydantic",
                    "purpose": "create",
                    "fields": [
                        {
                            "name": "amount",
                            "type": "int",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "category",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "date",
                            "type": "datetime",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "notes",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "ExpenseUpdate",
                    "type": "pydantic",
                    "purpose": "update",
                    "fields": [
                        {
                            "name": "amount",
                            "type": "int",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "category",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "date",
                            "type": "datetime",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "notes",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                }
            ]
        }
    },
    {
        "files": [
            {
                "filename": "bug.py",
                "code_content": "from pydantic import BaseModel, Field, ConfigDict\nfrom typing import Optional\n\n\nclass Bug(BaseModel):\n    \"\"\"Domain model for Bug entity.\n\n    A bug report for a personal project containing a short title, a severity level,\n    a current status, and a textual description.\n\n    Pure data transfer object - contains no lifecycle or storage semantics.\n    \"\"\"\n\n    # Required fields\n    title: str = Field(..., description=\"Bug title - required, cannot be empty\")\n    severity: str = Field(\n        ...,\n        description=(\n            \"Severity level of the bug - required. Accepts any string; common values include 'low', 'medium', 'high'. \"\n            \"Recommend enforcing allowed values (enum) in the service layer or validation step.\"\n        ),\n    )\n    status: str = Field(\n        ...,\n        description=(\n            \"Current status of the bug - required. Accepts any string; common values include 'open', 'in_progress', 'resolved', 'closed'. \"\n            \"Recommend enforcing allowed values (enum) in the service layer or validation step.\"\n        ),\n    )\n\n    # Optional fields\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional textual description of the bug - if not provided, defaults to None. \"\n            \"Use this field to include steps to reproduce, expected vs actual behavior, or other details.\"\n        ),\n    )\n\n\nclass BugCreate(BaseModel):\n    \"\"\"Input model for creating a new Bug.\"\"\"\n\n    model_config = ConfigDict(extra=\"forbid\")\n\n    # Required fields\n    title: str = Field(..., description=\"Bug title - required, cannot be empty\")\n    severity: str = Field(\n        ...,\n        description=(\n            \"Severity level of the bug - required. Accepts any string; common values include 'low', 'medium', 'high'. \"\n            \"Recommend enforcing allowed values (enum) in the service layer or validation step.\"\n        ),\n    )\n    status: str = Field(\n        ...,\n        description=(\n            \"Current status of the bug - required. Accepts any string; common values include 'open', 'in_progress', 'resolved', 'closed'. \"\n            \"Recommend enforcing allowed values (enum) in the service layer or validation step.\"\n        ),\n    )\n\n    # Optional fields\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional textual description of the bug - if not provided, defaults to None. \"\n            \"Use this field to include steps to reproduce, expected vs actual behavior, or other details.\"\n        ),\n    )\n\n\nclass BugUpdate(BaseModel):\n    \"\"\"Input model for updating an existing Bug.\"\"\"\n\n    model_config = ConfigDict(extra=\"forbid\")\n\n    # All fields optional for partial updates\n    title: Optional[str] = Field(\n        None,\n        description=\"Bug title - optional for updates. If provided, cannot be empty.\",\n    )\n    severity: Optional[str] = Field(\n        None,\n        description=(\n            \"Severity level - optional for updates. If provided, accepts any string; common values include 'low', 'medium', 'high'. \"\n            \"Recommend enforcing allowed values (enum) in the service layer or validation step.\"\n        ),\n    )\n    status: Optional[str] = Field(\n        None,\n        description=(\n            \"Current status - optional for updates. If provided, accepts any string; common values include 'open', 'in_progress', 'resolved', 'closed'. \"\n            \"Recommend enforcing allowed values (enum) in the service layer or validation step.\"\n        ),\n    )\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional textual description of the bug - if provided, will replace existing description; \"\n            \"if omitted, the existing description should remain unchanged.\"\n        ),\n    )\n"
            }
        ],
        "warnings": [
            "Specification included an 'id' read-only field for the domain model 'Bug'. Per generator rules, storage identifier fields are omitted from domain models; ensure the persistence layer and API responses include and manage the 'id' separately.",
            "Bug.severity accepts any string value; recommend adding enum validation (e.g., 'low', 'medium', 'high') in the service layer or via stricter Pydantic types to avoid invalid values.",
            "Bug.status accepts any string value; recommend adding enum validation (e.g., 'open', 'in_progress', 'resolved', 'closed') in the service layer or via stricter Pydantic types.",
            "BugUpdate allows all fields to be None (empty update payloads possible). Ensure the service layer handles empty updates and does not overwrite existing data with None unintentionally."
        ],
        "metadata": {
            "models_created": 3,
            "entities_covered": [
                "Bug"
            ],
            "total_lines": 60,
            "constraints_respected": true,
            "assumptions_made": [
                "Omitted the 'id' field from the domain Bug model per generator rule that domain models must not include storage identifiers.",
                "No explicit enum or allowed values were provided for 'severity' or 'status'; descriptions include common example values but no enforcement is added here.",
                "No additional format validations (e.g., EmailStr) were added because the spec did not require them."
            ],
            "spec_version": "1.0"
        },
        "test_case_index": 3,
        "entities": {
            "Bug": {
                "description": "A bug report for a personal project containing a short title, a severity level, a current status, and a textual description.",
                "fields": {
                    "title": {
                        "type": "string",
                        "required": true
                    },
                    "severity": {
                        "type": "string",
                        "required": true
                    },
                    "status": {
                        "type": "string",
                        "required": true
                    },
                    "description": {
                        "type": "string",
                        "required": false
                    }
                },
                "id_strategy": "auto_increment",
                "natural_key_field": null
            }
        },
        "backend_models_spec": {
            "models": [
                {
                    "name": "Bug",
                    "type": "pydantic",
                    "purpose": "domain",
                    "fields": [
                        {
                            "name": "id",
                            "type": "int",
                            "required": true,
                            "read_only": true
                        },
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "severity",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "status",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "BugCreate",
                    "type": "pydantic",
                    "purpose": "create",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "severity",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "status",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "BugUpdate",
                    "type": "pydantic",
                    "purpose": "update",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "severity",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "status",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                }
            ]
        }
    },
    {
        "files": [
            {
                "filename": "note.py",
                "code_content": "from pydantic import BaseModel, Field, ConfigDict\nfrom typing import Optional\n\n\nclass Note(BaseModel):\n    \"\"\"Domain model for Note entity.\n\n    Pure data transfer object - contains no lifecycle or storage semantics.\n    \"\"\"\n    title: str = Field(\n        ...,\n        description=(\n            \"Title of the note - required, cannot be empty. \"\n            \"Service layer should enforce non-empty constraint if needed.\"\n        ),\n    )\n    content: str = Field(\n        ...,\n        description=(\n            \"Body content of the note - required. \"\n            \"Service layer may enforce length or content rules.\"\n        ),\n    )\n\n\nclass NoteCreate(BaseModel):\n    \"\"\"Input model for creating a new Note.\"\"\"\n    model_config = ConfigDict(extra=\"forbid\")\n\n    title: str = Field(\n        ...,\n        description=(\n            \"Title of the note - required, cannot be empty. \"\n            \"Provide a concise title for the note.\"\n        ),\n    )\n    content: str = Field(\n        ...,\n        description=(\n            \"Body content of the note - required. \"\n            \"Provide the main text for the note.\"\n        ),\n    )\n\n\nclass NoteUpdate(BaseModel):\n    \"\"\"Input model for updating an existing Note.\"\"\"\n    model_config = ConfigDict(extra=\"forbid\")\n\n    title: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional title update - if omitted, the title remains unchanged. \"\n            \"Provide a non-empty string to update.\"\n        ),\n    )\n    content: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional content update - if omitted, the content remains unchanged. \"\n            \"Provide the full updated text to replace existing content.\"\n        ),\n    )\n"
            }
        ],
        "warnings": [
            "Original spec included 'id' as a read-only field on Note; per project constraints domain models must not include storage/read-only fields, so 'id' was omitted from the Note domain model. Ensure your persistence or response DTOs expose the id where needed.",
            "Note.title and Note.content accept any string values; recommend adding non-empty and/or length validation in the service layer or using Pydantic validators (e.g., min_length) to enforce business rules.",
            "NoteCreate and NoteUpdate have no format/content validation (e.g., HTML/markdown sanitization); validate or sanitize content in the service layer as appropriate.",
            "NoteUpdate allows all fields to be None; ensure the service layer handles empty update payloads and avoids performing no-op updates accidentally."
        ],
        "metadata": {
            "models_created": 3,
            "entities_covered": [
                "Note"
            ],
            "total_lines": 64,
            "constraints_respected": true,
            "assumptions_made": [
                "Omitted 'id' from the domain Note model as required by project constraints (id is a storage concern).",
                "No additional validation (like min_length or regex) was added; such rules should be enforced in the service layer as needed."
            ],
            "spec_version": "1.0"
        },
        "test_case_index": 4,
        "entities": {
            "Note": {
                "description": "A note consisting of a title and body content for user-created text entries.",
                "fields": {
                    "title": {
                        "type": "string",
                        "required": true
                    },
                    "content": {
                        "type": "string",
                        "required": true
                    }
                },
                "id_strategy": "auto_increment",
                "natural_key_field": null
            }
        },
        "backend_models_spec": {
            "models": [
                {
                    "name": "Note",
                    "type": "pydantic",
                    "purpose": "domain",
                    "fields": [
                        {
                            "name": "id",
                            "type": "int",
                            "required": true,
                            "read_only": true
                        },
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "content",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "NoteCreate",
                    "type": "pydantic",
                    "purpose": "create",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "content",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "NoteUpdate",
                    "type": "pydantic",
                    "purpose": "update",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "content",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                }
            ]
        }
    },
    {
        "files": [
            {
                "filename": "task.py",
                "code_content": "from pydantic import BaseModel, Field, ConfigDict\nfrom typing import Optional\n\n\nclass Task(BaseModel):\n    \"\"\"Domain model for Task entity.\n\n    Pure data transfer object - contains no lifecycle or storage semantics.\n    Note: The storage-managed `id` field was provided in the specification as a\n    read-only, auto-incremented integer. Per project rules, storage fields (like\n    `id`) MUST NOT be included in domain models. The system/DB is expected to\n    manage the `id` (id_strategy: auto_increment).\n    \"\"\"\n\n    title: str = Field(\n        ...,\n        description=(\n            \"Task title - required, cannot be empty. Represents the short human-\"\n            \"readable name of the to-do item; service layer should enforce any\"\n            \" additional constraints such as length or character rules.\"\n        ),\n    )\n\n\nclass TaskCreate(BaseModel):\n    \"\"\"Input model for creating a new Task.\"\"\"\n    model_config = ConfigDict(extra=\"forbid\")\n\n    title: str = Field(\n        ...,\n        description=(\n            \"Task title - required when creating a task. Provide a short human-\"\n            \"readable name for the to-do item. If not provided or empty, the\"\n            \" service layer should reject the request.\"\n        ),\n    )\n\n\nclass TaskUpdate(BaseModel):\n    \"\"\"Input model for updating an existing Task.\"\"\"\n    model_config = ConfigDict(extra=\"forbid\")\n\n    title: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional new title for the task. If provided, service layer should\"\n            \" validate non-empty and any other business rules. If not provided,\n            no change will be made to the task title.\"\n        ),\n    )\n"
            }
        ],
        "warnings": [
            "Specification included an 'id' field for Task marked as read-only; per project rules storage fields are omitted from domain models. The database is expected to manage 'id' (id_strategy: auto_increment).",
            "Task.title accepts any string value; consider adding length/format validation (e.g., min_length) in the service layer or using pydantic validators.",
            "TaskCreate.title has no format or length validation; consider adding stricter validation at the service layer.",
            "TaskUpdate allows all fields to be None; ensure the service layer handles empty update payloads and avoids no-op updates."
        ],
        "metadata": {
            "models_created": 3,
            "entities_covered": [
                "Task"
            ],
            "total_lines": 57,
            "constraints_respected": true,
            "assumptions_made": [
                "Omitted 'id' from the domain Task model because storage fields must not be included in domain models per project rules.",
                "Assumed the database will manage the 'id' with the specified id_strategy: auto_increment.",
                "No additional validation (length/format) was added to title fields because the spec did not include such constraints; recommended to add in service layer."
            ],
            "spec_version": "1.0"
        },
        "test_case_index": 5,
        "entities": {
            "Task": {
                "description": "A to-do item representing work to be completed, identified by a system-generated ID.",
                "fields": {
                    "title": {
                        "type": "string",
                        "required": true
                    }
                },
                "id_strategy": "auto_increment",
                "natural_key_field": null
            }
        },
        "backend_models_spec": {
            "models": [
                {
                    "name": "Task",
                    "type": "pydantic",
                    "purpose": "domain",
                    "fields": [
                        {
                            "name": "id",
                            "type": "int",
                            "required": true,
                            "read_only": true
                        },
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "TaskCreate",
                    "type": "pydantic",
                    "purpose": "create",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        }
                    ]
                },
                {
                    "name": "TaskUpdate",
                    "type": "pydantic",
                    "purpose": "update",
                    "fields": [
                        {
                            "name": "title",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                }
            ]
        }
    },
    {
        "files": [
            {
                "filename": "expense.py",
                "code_content": "from __future__ import annotations\n\nfrom pydantic import BaseModel, Field, ConfigDict\nfrom typing import Optional\nfrom datetime import date\n\n\nclass Expense(BaseModel):\n    \"\"\"Domain model for Expense entity.\n\n    Pure data transfer object - contains no lifecycle or storage semantics.\n    Note: The storage `id` field from the specification is intentionally omitted\n    from this domain model per repository guidelines (storage identifiers are\n    not part of domain DTOs).\n    \"\"\"\n\n    amount: int = Field(\n        ...,\n        description=(\n            \"Monetary amount as an integer (e.g., in cents) - required field. \"\n            \"Service layer should enforce currency rules and non-negative values;\"\n            \" this model does not perform that validation.\"\n        ),\n    )\n\n    category: str = Field(\n        ...,\n        description=(\n            \"Expense category - required field. Accepts any string value; \"\n            \"consider enforcing a restricted set of categories (enum) in the service layer.\"\n        ),\n    )\n\n    date: Optional[date] = Field(\n        None,\n        description=(\n            \"Optional date when the expense occurred. If not provided, defaults to None. \"\n            \"This uses a date (YYYY-MM-DD) value.\"\n        ),\n    )\n\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional textual description of the expense - if not provided, defaults to None.\"\n        ),\n    )\n\n\nclass ExpenseCreate(BaseModel):\n    \"\"\"Input model for creating a new Expense.\"\"\"\n\n    model_config = ConfigDict(extra=\"forbid\")\n\n    amount: int = Field(\n        ...,\n        description=(\n            \"Monetary amount as an integer (e.g., in cents) - required field for creation. \"\n            \"Service layer should enforce non-negative and currency-specific rules.\"\n        ),\n    )\n\n    category: str = Field(\n        ...,\n        description=(\n            \"Expense category - required for creation. Accepts any string value; \"\n            \"consider enforcing a restricted set of categories in the service layer.\"\n        ),\n    )\n\n    date: Optional[date] = Field(\n        None,\n        description=(\n            \"Optional date when the expense occurred. Provide as a date (YYYY-MM-DD). \"\n            \"If omitted, defaults to None.\"\n        ),\n    )\n\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional textual description of the expense - if omitted, defaults to None.\"\n        ),\n    )\n\n\nclass ExpenseUpdate(BaseModel):\n    \"\"\"Input model for updating an existing Expense.\"\"\"\n\n    model_config = ConfigDict(extra=\"forbid\")\n\n    amount: Optional[int] = Field(\n        None,\n        description=(\n            \"Monetary amount as an integer (e.g., in cents). Optional for updates; \"\n            \"if provided, service layer should enforce non-negative and currency rules.\"\n        ),\n    )\n\n    category: Optional[str] = Field(\n        None,\n        description=(\n            \"Expense category - optional for updates. Accepts any string value; \"\n            \"consider enforcing a restricted set of categories in the service layer.\"\n        ),\n    )\n\n    date: Optional[date] = Field(\n        None,\n        description=(\n            \"Optional date when the expense occurred. If provided, use date (YYYY-MM-DD).\"\n        ),\n    )\n\n    description: Optional[str] = Field(\n        None,\n        description=(\n            \"Optional textual description of the expense. If omitted or None, description will not be changed.\"\n        ),\n    )\n"
            }
        ],
        "warnings": [
            "Specification included an 'id' field for Expense marked read_only; per model generation guidelines, 'id' fields are omitted from domain and input models and should be handled by the persistence layer.",
            "Field 'amount' accepts any integer; recommend enforcing non-negative amounts and currency rules in the service layer or with constrained types.",
            "Field 'category' accepts any string value; consider adding an enum or validation in the service layer to restrict to known categories.",
            "Date field type in Entity Information was 'date'; mapped to Python 'datetime.date'. If a full timestamp is needed, consider using 'datetime.datetime' instead.",
            "ExpenseUpdate allows all fields to be None; ensure the service layer handles empty update payloads and does not perform no-op updates."
        ],
        "metadata": {
            "models_created": 3,
            "entities_covered": [
                "Expense"
            ],
            "total_lines": 120,
            "constraints_respected": true,
            "assumptions_made": [
                "Omitted 'id' from domain and input models per guideline despite its presence in the spec.",
                "Mapped 'date' type from Entity Information to Python's datetime.date."
            ],
            "spec_version": "1.0"
        },
        "test_case_index": 6,
        "entities": {
            "Expense": {
                "description": "A recorded monetary expense with an amount, date, category, and optional description used for reporting.",
                "fields": {
                    "amount": {
                        "type": "integer",
                        "required": true
                    },
                    "date": {
                        "type": "date",
                        "required": false
                    },
                    "category": {
                        "type": "string",
                        "required": true
                    },
                    "description": {
                        "type": "string",
                        "required": false
                    }
                },
                "id_strategy": "auto_increment",
                "natural_key_field": null
            }
        },
        "backend_models_spec": {
            "models": [
                {
                    "name": "Expense",
                    "type": "pydantic",
                    "purpose": "domain",
                    "fields": [
                        {
                            "name": "id",
                            "type": "int",
                            "required": true,
                            "read_only": true
                        },
                        {
                            "name": "amount",
                            "type": "int",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "date",
                            "type": "datetime",
                            "required": false,
                            "read_only": false
                        },
                        {
                            "name": "category",
                            "type": "str",
                            "required": true,
                            "read_only": false
                        },
                        {
                            "name": "description",
                            "type": "str",
                            "required": false,
                            "read_only": false
                        }
                    ]
                }
            ]
        }
    }
]